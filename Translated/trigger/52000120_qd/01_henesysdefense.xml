<?xml version="1.0" encoding="utf-8"?>
<!-- 헤네시스 요새 외곽 -->
<ms2>
	<state name="Wait">
        <onEnter>
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
			<action name="몬스터소멸시킨다" arg1="101,102,201,202,203,204,290,210,211,212,213,214,215,220,221,222,223,224,225,240,241,242,243,244,245" /> 	<!-- NPC -->
			<action name="몬스터소멸시킨다" arg1="300,301,302,303,304,305,306,307,308,309,310,401,402,403,404,405,406,407,408,409,410,500,501,502,503,504,505,506,507,508,509,510,601,602,603,604" /> 	 <!-- Archer -->
			<action name="몬스터소멸시킨다" arg1="901,902,903,904,905,906,907,908,909,910,911,912,913,914,921,922,923,924,925,926,927,928" /> 	<!-- Battle_Mob -->
			<action name="몬스터소멸시킨다" arg1="605,606,607,608,801,802,803,804,805,806,807,808,809,810,811,812,813,814" /> 	<!-- Actor -->
			<action name="몬스터소멸시킨다" arg1="701,702,703,704"/> 	 <!--Cannon -->
			<action name="몬스터소멸시킨다" arg1="710,711,712,713"/> 	 <!--CannonForPC -->
			<action name="몬스터를생성한다" arg1="110,111,112,120,121,122,123,124,125,126,130,131,132,133,134,135,136,140,141,142,143,144,145,146,147,150,151,152,153,154,155,156,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,185,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,113,114,115,116,117,118" arg2="0" /> 	<!-- MobActor -->
			<action name="메쉬를설정한다" arg1="3100-3105" arg2="1" arg3="0" arg4="0" arg5="0" /> <!-- GratingDown -->
			<!--<action name="메쉬를설정한다" arg1="3110-3112" arg2="0" arg3="0" arg4="0" arg5="0" />   GratingUp 사용 안함 -->
			<action name="메쉬를설정한다" arg1="3000" arg2="1" arg3="0" arg4="0" arg5="0" /> <!-- BridgeMesh_forTOK -->
			<action name="메쉬를설정한다" arg1="3001" arg2="1" arg3="0" arg4="0" arg5="0" /> <!-- BridgeBarrier_Invisible -->
			<action name="액터를설정한다" arg1="4500" arg2="1" arg3="Interaction_bridge_A01_on" /> <!-- Bridge -->
			<action name="움직이는발판을설정한다" arg1="4000,4001,4002,4003,4004,4005" arg2="0" />
			<action name="SetVisibleBreakableObject" arg1="4000,4001,4002,4003,4004,4005" arg2="0" />
			<action name="SetCube" IDs="6000-6010" isVisible="false"/>		<!-- LiftUp_Bomb -->
			<action name="SetLocalCamera" cameraId="10000" enable="0"/>
			<action name="SetLocalCamera" cameraId="10001" enable="0"/>
			<action name="AGENT를설정한다" arg1="8001" arg2="0"/>
			<action name="AGENT를설정한다" arg1="8002" arg2="0"/>
			<action name="AGENT를설정한다" arg1="8003" arg2="0"/>
			<action name="이펙트를설정한다" arg1="5000" arg2="0"/> <!-- DarkCloud-->
			<action name="이펙트를설정한다" arg1="5001" arg2="0"/> <!-- DarkCloud-->
        </onEnter>
<!-- 		<condition name="CheckUser">		 -->
		<condition name="퀘스트유저를감지하면" arg1="9000" arg2="50001551" arg3="1">
			<transition state="LoadingDelay01"/>
		</condition>
		<condition name="퀘스트유저를감지하면" arg1="9000" arg2="50001551" arg3="2">   <!-- 맵 튕기고 완료가능 상태일 때 대비 위한 스테이트 -->
			<transition state="Quit"/>
		</condition>
    <onExit>
    </onExit>
	</state>

	<state name="LoadingDelay01" >
		<onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="연출UI를설정한다" arg1="4"/>
			<action name="SetOnetimeEffect" id="1" enable="1" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
			<action name="몬스터를생성한다" arg1="605,606,607,608" arg2="0" /> 	<!-- Actor_Training -->
			<action name="몬스터를생성한다" arg1="801,802,803,804,805,806" arg2="0" /> 	<!-- Actor_Patrol -->
			<action name="몬스터를생성한다" arg1="807,808,809,810,811,812,813,814" arg2="0" /> 	<!-- Actor_Standing -->
			<action name="몬스터를생성한다" arg1="101,201" arg2="0" /> 	<!-- Actor_Unique -->
			<action name="몬스터를생성한다" arg1="501,502,507,508" arg2="0" /> 	<!-- Archer_3rd -->
			<action name="몬스터를생성한다" arg1="401,402,403,404,405,406,407,408,409,410" arg2="0" /> 	 <!-- Archer_2nd -->
			<action name="몬스터를생성한다" arg1="710,711,712,713" arg2="0" /> 	 <!--CannonForPC -->
			<action name="카메라를선택한다" arg1="10" arg2="1"/>
		</onEnter>
		<condition name="WaitTick" waitTick="2000">
			<transition state="LoadingDelay02"/>	<!-- CameraChange12-->	<!-- LoadingDelay02--> <!-- 테스트용 임시 -->
		</condition>
	</state>

	<state name="LoadingDelay02" >
		<onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
		</onEnter>
		<condition name="WaitTick" waitTick="1000">
			<transition state="LeadersTalk_Manovich01"/>
		</condition>
	</state>

	<state name="LeadersTalk_Manovich01">
        <onEnter>
			<action name="SetNpcEmotionSequence" arg1="101" arg2="Talk_A" />
			<action name="AddCinematicTalk" npcID="11003221" msg="$52000120_QD__01_HENESYSDEFENSE__0$" duration="5000" align="center" illustID="Manovich_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->

			<!-- 씬스킵으로 바로 전투 시작 -->
			<!--action name="SetSceneSkip" arg1="OskhalTalk04Skip" arg2="exit" /-->

			<action name="SetSceneSkip" arg1="SetLocalTargetCamera01cskip" arg2="nextState" />

			<!--action name="스킵을설정한다" arg1="LeadersTalk_Manovich01Skip"/-->
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="LeadersTalk_Manovich01Skip"/>
		</condition>
	</state>

    <state name="LeadersTalk_Manovich01Skip">
		<onEnter>
			<action name="SetNpcEmotionSequence" arg1="101" arg2="Idle_A" />
			<action name="RemoveCinematicTalk" />
			<!--action name="스킵을설정한다" arg1=""/-->
			</onEnter>
				<condition name="무조건" >
					<transition state="LeadersTalk_Osckal01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="LeadersTalk_Osckal01">
        <onEnter>
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1000" />
			<action name="NPC를이동시킨다" arg1="201" arg2="MS2PatrolData_201" />
			<action name="AddCinematicTalk" npcID="11003319" msg="$52000120_QD__01_HENESYSDEFENSE__1$" duration="4000" align="center" illustID="Oskhal_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="LeadersTalk_Osckal01Skip"/>
		</condition>
	</state>

    <state name="LeadersTalk_Osckal01Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			<action name="카메라를선택한다" arg1="11" arg2="1"/>
			<action name="AddBalloonTalk" spawnPointID="0" msg="$52000120_QD__01_HENESYSDEFENSE__2$" duration="2000" delayTick="1000"/>
			</onEnter>
				<condition name="WaitTick" waitTick="3000">
					<transition state="LeadersLookAtPC01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="LeadersLookAtPC01">
		<onEnter>
			<action name="NPC를이동시킨다" arg1="101" arg2="MS2PatrolData_101" />
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="LeadersLookAtPC02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="LeadersLookAtPC02">
		<onEnter>
			<action name="NPC를이동시킨다" arg1="201" arg2="MS2PatrolData_202" />
			</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="CameraChange01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="CameraChange01" >
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="1" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="CameraChange02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="CameraChange02" >
        <onEnter>
			<action name="카메라를선택한다" arg1="12" arg2="1"/>			<!-- PC 등뒤에서 -->
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="CameraChange03"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="CameraChange03" >
        <onEnter>
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="PCTalk01"/>
				</condition>
    <onExit>
    </onExit>
    </state>

	<state name="PCTalk01">
        <onEnter>
			<action name="AddCinematicTalk" npcID="0" msg="$52000120_QD__01_HENESYSDEFENSE__3$" duration="4000" align="center" illustID="0"/>
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="PCTalk01Skip"/>
		</condition>
	</state>

    <state name="PCTalk01Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			<!--action name="스킵을설정한다" arg1=""/-->
			</onEnter>
				<condition name="무조건">
					<transition state="ManovichTalk01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="ManovichTalk01">
        <onEnter>
			<action name="SetNpcEmotionSequence" arg1="101" arg2="Talk_A" />
			<action name="AddCinematicTalk" npcID="11003221" msg="$52000120_QD__01_HENESYSDEFENSE__4$" duration="5000" align="center" illustID="Manovich_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="ManovichTalk01Skip"/>
		</condition>
	</state>

    <state name="ManovichTalk01Skip">
		<onEnter>
			<action name="SetNpcEmotionSequence" arg1="101" arg2="Idle_A" />
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="PCTalk02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="PCTalk02">
        <onEnter>
			<action name="SetPcEmotionLoop" arg1="Talk_A" arg2="4000" />
			<action name="AddCinematicTalk" npcID="0" msg="$52000120_QD__01_HENESYSDEFENSE__5$" duration="4000" align="center" illustID="0"/>
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="PCTalk02Skip"/>
		</condition>
	</state>

    <state name="PCTalk02Skip">
		<onEnter>
			<action name="SetPcEmotionSequence" arg1="Idle_A"/>
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="무조건">
					<transition state="ManovichTalk02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="ManovichTalk02">
        <onEnter>
			<action name="SetNpcEmotionSequence" arg1="101" arg2="Bore_A" />
			<action name="AddCinematicTalk" npcID="11003221" msg="$52000120_QD__01_HENESYSDEFENSE__6$" duration="4000" align="center" illustID="Manovich_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="ManovichTalk02Skip"/>
		</condition>
	</state>

    <state name="ManovichTalk02Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="무조건">
					<transition state="OskhalTalk02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="OskhalTalk02">
        <onEnter>
			<action name="SetNpcEmotionSequence" arg1="201" arg2="Talk_A" />
			<action name="AddCinematicTalk" npcID="11003319" msg="$52000120_QD__01_HENESYSDEFENSE__7$" duration="5000" align="center" illustID="Oskhal_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="OskhalTalk02Skip"/>
		</condition>
	</state>

    <state name="OskhalTalk02Skip">
		<onEnter>
			<action name="SetNpcEmotionSequence" arg1="201" arg2="Idle_A" />
			<action name="RemoveCinematicTalk" />
			<action name="이펙트를설정한다" arg1="5000" arg2="1"/> <!-- DarkCloud-->
			<action name="이펙트를설정한다" arg1="5001" arg2="1"/> <!-- DarkCloud-->
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="CameraChange05"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="CameraChange05" >
        <onEnter>
			<action name="카메라를선택한다" arg1="13" arg2="1"/>			<!-- PC 등뒤에서 -->
				</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="CameraChange06"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="CameraChange06" >
        <onEnter>
			<action name="카메라를선택한다" arg1="14" arg2="1"/>			<!-- PC 등뒤에서 -->
				</onEnter>
				<condition name="WaitTick" waitTick="5000">
					<transition state="OskhalTalk03"/>
				</condition>
    <onExit>
    </onExit>
    </state>

	<state name="OskhalTalk03">
        <onEnter>
			<action name="AddCinematicTalk" npcID="11003319" msg="$52000120_QD__01_HENESYSDEFENSE__8$" duration="4000" align="center" illustID="Oskhal_serious"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="OskhalTalk03Skip"/>
		</condition>
	</state>

    <state name="OskhalTalk03Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="무조건">
					<transition state="OskhalTalk04"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="OskhalTalk04">
        <onEnter>
			<action name="AddCinematicTalk" npcID="11003319" msg="$52000120_QD__01_HENESYSDEFENSE__9$" duration="5000" align="center" illustID="Oskhal_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="OskhalTalk04Skip"/>
		</condition>
	</state>

    <state name="OskhalTalk04Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="무조건">
					<transition state="CameraChange11"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="CameraChange11" >
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="1" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="CameraChange12"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="CameraChange12" >
        <onEnter>
			<action name="SetSceneSkip" arg1="" arg2="" />
			<action name="유저를이동시킨다" arg1="52000120" arg2="10" arg3="9900" />
			<action name="카메라를선택한다" arg1="15" arg2="1"/>
			<action name="몬스터소멸시킨다" arg1="101,201" /> 	<!-- Actor_Unique -->
			<action name="몬스터를생성한다" arg1="102,202,210,211,212,213,214,215" arg2="0" />
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="CameraChange13"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="CameraChange13" >
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
			<action name="메쉬를설정한다" arg1="3100-3105" arg2="0" arg3="500" arg4="0" arg5="2" /> <!-- GratingDown -->
			<action name="움직이는발판을설정한다" arg1="4000,4001,4002,4003,4004,4005" arg2="1" />
			<action name="SetVisibleBreakableObject" arg1="4000,4001,4002,4003,4004,4005" arg2="1" />
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="CameraChange14"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="CameraChange14" >
        <onEnter>
			<action name="액터를설정한다" arg1="4500" arg2="1" arg3="Interaction_bridge_A01_off" /> <!-- Bridge -->
			<action name="카메라를선택한다" arg1="16" arg2="1"/>
			<action name="NPC를이동시킨다" arg1="202" arg2="MS2PatrolData_102" />
			<action name="NPC를이동시킨다" arg1="210" arg2="MS2PatrolData_210" />
			<action name="NPC를이동시킨다" arg1="211" arg2="MS2PatrolData_211" />
			<action name="NPC를이동시킨다" arg1="212" arg2="MS2PatrolData_212" />
			<action name="NPC를이동시킨다" arg1="213" arg2="MS2PatrolData_213" />
			<action name="NPC를이동시킨다" arg1="214" arg2="MS2PatrolData_214" />
			<action name="NPC를이동시킨다" arg1="215" arg2="MS2PatrolData_215" />
			<action name="SetUserValue" triggerID="10" key="DefencePhase" value="1" />
				</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="CameraChange15"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="CameraChange15" >
        <onEnter>
				</onEnter>
				<condition name="WaitTick" waitTick="5000">
					<transition state="SetLocalTargetCamera01"/>
				</condition>
    <onExit>
    </onExit>
    </state>


    <state name="SetLocalTargetCamera01" >
        <onEnter>
			<action name="움직이는발판을설정한다" arg1="4000,4001,4002,4003,4004,4005" arg2="0" />
			<action name="SetVisibleBreakableObject" arg1="4000,4001,4002,4003,4004,4005" arg2="0" />
			<action name="메쉬를설정한다" arg1="3100-3105" arg2="1" arg3="500" arg4="0" arg5="2" /> <!-- GratingDown -->
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="1" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="SetLocalTargetCamera02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

	<state name="SetLocalTargetCamera01cskip" >
        <onEnter>
			<action name="SetUserValue" triggerID="10" key="DefencePhase" value="1" />
			<action name="유저를이동시킨다" arg1="52000120" arg2="10" arg3="9900" />
			<action name="몬스터를생성한다" arg1="102" arg2="0" />
			<action name="움직이는발판을설정한다" arg1="4000,4001,4002,4003,4004,4005" arg2="0" />
			<action name="SetVisibleBreakableObject" arg1="4000,4001,4002,4003,4004,4005" arg2="0" />
			<action name="메쉬를설정한다" arg1="3100-3105" arg2="1" arg3="500" arg4="0" arg5="2" /> <!-- GratingDown -->
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="1" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="SetLocalTargetCamera02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="SetLocalTargetCamera02" >
        <onEnter>
			<action name="AGENT를설정한다" arg1="8001" arg2="1"/>
			<action name="AGENT를설정한다" arg1="8002" arg2="1"/>
			<action name="AGENT를설정한다" arg1="8003" arg2="1"/>
			<action name="카메라리셋" interpolationTime="0.0"/>
        </onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="SetLocalTargetCamera03"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="SetLocalTargetCamera03" >
        <onEnter>
			<action name="SetLocalCamera" cameraId="10000" enable="1"/>
			<action name="SetCube" IDs="6000-6010" isVisible="true"/>		<!-- LiftUp_Bomb -->
        </onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="SetLocalTargetCamera04"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="SetLocalTargetCamera04" >
        <onEnter>
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
			<action name="몬스터를생성한다" arg1="901,902" arg2="0" /> 		 	<!-- Battle_Mob -->
        </onEnter>
				<condition name="WaitTick" waitTick="3000">
					<transition state="BattleOnTheWallGuide01"/>
				</condition>
    <onExit>
    </onExit>
    </state>

	<state name="BattleOnTheWallGuide01">
        <onEnter>
			<action name="몬스터소멸시킨다" arg1="202,210,211,212,213,214,215" />
			<action name="몬스터를생성한다" arg1="203,220,221,222,223,224,225" arg2="0" />
			<action name="AddCinematicTalk" npcID="11003319" msg="$52000120_QD__01_HENESYSDEFENSE__10$" duration="5000" align="center" illustID="Oskhal_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
			<action name="SetSceneSkip" arg1="BattleOnTheWallGuide01Skip" arg2=""/>
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="BattleOnTheWallGuide01Skip"/>
		</condition>
	</state>

    <state name="BattleOnTheWallGuide01Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="무조건">
					<transition state="BattleOnTheWallGuide02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="BattleOnTheWallGuide02">
        <onEnter>
			<action name="SetSceneSkip" arg1="" arg2=""/>
			<action name="이펙트를설정한다" arg1="5000" arg2="0"/> <!-- DarkCloud-->
			<action name="이펙트를설정한다" arg1="5001" arg2="0"/> <!-- DarkCloud-->
			<action name="몬스터를생성한다" arg1="903,904" arg2="0" /> 		 	<!-- Battle_Mob -->
			<action name="SetNpcEmotionSequence" arg1="102" arg2="Talk_A" />
			<action name="AddCinematicTalk" npcID="11003221" msg="$52000120_QD__01_HENESYSDEFENSE__11$" duration="4000" align="center" illustID="Manovich_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
			<action name="SetSceneSkip" arg1="BattleOnTheWallGuide02Skip" arg2=""/>
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="BattleOnTheWallGuide02Skip"/>
		</condition>
	</state>

    <state name="BattleOnTheWallGuide02Skip">
		<onEnter>
			<action name="SetSceneSkip" arg1="" arg2=""/>
			<action name="연출UI를설정한다" arg1="0"/>
			<action name="연출UI를설정한다" arg1="2"/>
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="BattleOnTheWallGuide03"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="BattleOnTheWallGuide03">
		<onEnter>
			<action name="PlaySystemSoundInBox" arg1="102" arg2="System_ShowGuideSummary_01"/>
			<action name="ShowGuideSummary" entityID="25101201" textID="25101201"/>  <!-- 가이드 : 자경단의 전투를 지원해주세요 -->
			</onEnter>
				<condition name="WaitTick" waitTick="5000">
					<transition state="BattleOnTheWallEnd01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="BattleOnTheWallEnd01">
		<onEnter>
			<action name="HideGuideSummary" entityID="25101201"/>
			<action name="SetUserValue" triggerID="4" key="NpcDown" value="1" />
			<action name="SetUserValue" triggerID="5" key="NpcDown" value="1" />
			<action name="SetUserValue" triggerID="6" key="NpcDown" value="1" />
			<action name="SetUserValue" triggerID="7" key="NpcDown" value="1" />
			<action name="SetUserValue" triggerID="8" key="NpcDown" value="1" />
			<action name="SetUserValue" triggerID="9" key="NpcDown" value="1" />
			<action name="몬스터를생성한다" arg1="905,906" arg2="0" /> 		 	<!-- Battle_Mob -->
			</onEnter>
				<condition name="WaitTick" waitTick="6000">
					<transition state="BattleOnTheWallEnd02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="BattleOnTheWallEnd02">
		<onEnter>
			<action name="몬스터를생성한다" arg1="907,908" arg2="0" /> 		 	<!-- Battle_Mob -->
			</onEnter>
				<condition name="WaitTick" waitTick="6000">
					<transition state="BattleOnTheWallEnd03"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="BattleOnTheWallEnd03">
		<onEnter>
			<action name="몬스터를생성한다" arg1="909,910" arg2="0" /> 		 	<!-- Battle_Mob -->
			</onEnter>
				<condition name="WaitTick" waitTick="12000">
					<transition state="CallingBackUp01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="CallingBackUp01">
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="AddCinematicTalk" npcID="11003319" msg="$52000120_QD__01_HENESYSDEFENSE__12$" duration="5000" align="center" illustID="Oskhal_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
			<!-- 씬스킵으로 바로 전투 시작 -->
			<action name="SetSceneSkip" arg1="PCVolunteer05CSkip" arg2="nextState" />
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="CallingBackUp01Skip"/>
		</condition>
	</state>

    <state name="CallingBackUp01Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="PCVolunteer01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="PCVolunteer01" >
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="1" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
			<action name="SetLocalCamera" cameraId="10000" enable="0"/>
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="PCVolunteer02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="PCVolunteer02" >
        <onEnter>
			<action name="유저를이동시킨다" arg1="52000120" arg2="20" arg3="9900" />
			<action name="카메라를선택한다" arg1="20" arg2="1"/>
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="PCVolunteer03"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="PCVolunteer03" >
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="PCVolunteer04"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="PCVolunteer04" >
        <onEnter>
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1001" />
				</onEnter>
				<condition name="WaitTick" waitTick="2500">
					<transition state="PCVolunteer05"/>
				</condition>
    <onExit>
    </onExit>
    </state>

	<state name="PCVolunteer05">
        <onEnter>
			<action name="SetPcEmotionLoop" arg1="Talk_A" arg2="4000" />
			<action name="AddCinematicTalk" npcID="0" msg="$52000120_QD__01_HENESYSDEFENSE__13$" duration="4000" align="center" illustID="0"/>
			<!--action name="SetSceneSkip" arg1="Battle01End01Skip" arg2="exit" /-->
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="PCVolunteer05Skip"/>
		</condition>
	</state>

    <state name="PCVolunteer05Skip">
		<onEnter>
			<action name="SetPcEmotionSequence" arg1="Idle_A"/>
			<action name="RemoveCinematicTalk" />
			<action name="SetSceneSkip" arg1="" arg2="" />
			</onEnter>
				<condition name="무조건" >
					<transition state="Battle01Start01"/>
				</condition>
		<onExit>
		</onExit>
    </state>
    <state name="PCVolunteer05CSkip">
		<onEnter>
			<action name="유저를이동시킨다" arg1="52000120" arg2="20" arg3="9900" />
			<action name="SetUserValue" triggerID="10" key="DefencePhase" value="2" />
			<action name="SetPcEmotionSequence" arg1="Idle_A"/>
			<action name="RemoveCinematicTalk" />
			<action name="몬스터소멸시킨다" arg1="901,902,903,904,905,906,907,908,909,910"/> 	 <!--Battle01_Mob -->
			<action name="카메라리셋" interpolationTime="0.0"/>
			</onEnter>
				<condition name="무조건" >
					<transition state="Battle01Start01"/>
				</condition>
		<onExit>
		</onExit>
    </state>
    <state name="Battle01Start01" >
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="1" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
			<action name="액터를설정한다" arg1="4500" arg2="1" arg3="Interaction_bridge_A01_on" /> <!-- Bridge -->
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="Battle01Start02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="Battle01Start02" >
        <onEnter>
			<action name="SetCube" IDs="6000-6010" isVisible="false"/>		<!-- LiftUp_Bomb -->
			<action name="몬스터소멸시킨다" arg1="701,702,703,704"/> 	 <!--Cannon -->
			<action name="몬스터소멸시킨다" arg1="710,711,712,713"/> 	 <!--CannonForPC -->
			<action name="몬스터를생성한다" arg1="300,301,302,303,304,305,306,307,308,309,310" arg2="0" /> 	 <!-- Archer_1st -->
			<action name="몬스터를생성한다" arg1="500,503,504,505,506,509,510" arg2="0" /> 	 <!-- Archer_4rd -->
			<action name="몬스터를생성한다" arg1="601,602,603,604" arg2="0" /> 	 <!-- Actor_Artillery -->
			<action name="몬스터를생성한다" arg1="701,702,703,704" arg2="0" /> 	 <!-- Cannon -->
			<action name="유저를이동시킨다" arg1="52000120" arg2="30" arg3="9900" />
			<action name="몬스터를생성한다" arg1="240,241,242,243,244,245" arg2="0" />
			<action name="카메라를선택한다" arg1="30" arg2="1"/>
			<action name="AGENT를설정한다" arg1="8001" arg2="0"/>
			<action name="AGENT를설정한다" arg1="8002" arg2="0"/>
			<action name="AGENT를설정한다" arg1="8003" arg2="0"/>
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="Battle01Start03"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="Battle01Start03" >
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="메쉬를설정한다" arg1="3001" arg2="0" arg3="0" arg4="0" arg5="0" /> <!-- BridgeBarrier_Invisible -->
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
			<action name="메쉬를설정한다" arg1="3100-3105" arg2="0" arg3="500" arg4="0" arg5="2" /> <!-- GratingDown -->
			<action name="움직이는발판을설정한다" arg1="4000,4001,4002,4003,4004,4005" arg2="1" />
			<action name="SetVisibleBreakableObject" arg1="4000,4001,4002,4003,4004,4005" arg2="1" />
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="Battle01Start04"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="Battle01Start04" >
        <onEnter>
			<action name="액터를설정한다" arg1="4500" arg2="1" arg3="Interaction_bridge_A01_off" /> <!-- Bridge -->
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1002" />
			<action name="NPC를이동시킨다" arg1="240" arg2="MS2PatrolData_240" />
			<action name="NPC를이동시킨다" arg1="241" arg2="MS2PatrolData_241" />
			<action name="NPC를이동시킨다" arg1="242" arg2="MS2PatrolData_242" />
			<action name="NPC를이동시킨다" arg1="243" arg2="MS2PatrolData_243" />
			<action name="NPC를이동시킨다" arg1="244" arg2="MS2PatrolData_244" />
			<action name="NPC를이동시킨다" arg1="245" arg2="MS2PatrolData_245" />
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="Battle01Start05"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="Battle01Start05" >
        <onEnter>
			<action name="카메라를선택한다" arg1="31" arg2="1"/>
			<action name="SetUserValue" triggerID="10" key="DefencePhase" value="2" />
				</onEnter>
				<condition name="WaitTick" waitTick="5000">
					<transition state="Battle01Start06"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="Battle01Start06" >
        <onEnter>
			<action name="움직이는발판을설정한다" arg1="4000,4001,4002,4003,4004,4005" arg2="0" />
			<action name="SetVisibleBreakableObject" arg1="4000,4001,4002,4003,4004,4005" arg2="0" />
			<action name="메쉬를설정한다" arg1="3100-3105" arg2="1" arg3="500" arg4="0" arg5="2" /> <!-- GratingDown -->
			<action name="액터를설정한다" arg1="4500" arg2="1" arg3="Interaction_bridge_A01_on" /> <!-- Bridge -->
			<action name="메쉬를설정한다" arg1="3001" arg2="1" arg3="0" arg4="0" arg5="0" /> <!-- BridgeBarrier_Invisible -->
				</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="Battle01Start07"/>
				</condition>
    <onExit>
    </onExit>
    </state>
    <state name="Battle01Start07" >
        <onEnter>
			<action name="AGENT를설정한다" arg1="8001" arg2="1"/>
			<action name="AGENT를설정한다" arg1="8002" arg2="1"/>
			<action name="AGENT를설정한다" arg1="8003" arg2="1"/>
			<action name="몬스터를변경한다" arg1="203" arg2="204" />
			<action name="몬스터를변경한다" arg1="240" arg2="250" />
			<action name="몬스터를변경한다" arg1="241" arg2="251" />
			<action name="몬스터를변경한다" arg1="242" arg2="252" />
			<action name="몬스터를변경한다" arg1="243" arg2="253" />
			<action name="몬스터를변경한다" arg1="244" arg2="254" />
			<action name="몬스터를변경한다" arg1="245" arg2="255" />
			<action name="카메라리셋" interpolationTime="0.0"/>
			<action name="연출UI를설정한다" arg1="0"/>
			<action name="연출UI를설정한다" arg1="2"/>
			<action name="PlaySystemSoundInBox" arg1="102" arg2="System_ShowGuideSummary_01"/>
			<action name="ShowGuideSummary" entityID="25101202" textID="25101202"/>  <!-- 가이드 : 남아있는 적군을 소탕하세요 -->
				</onEnter>
				<condition name="몬스터가죽어있으면" arg1="901,902,903,904,905,906,907,908,909,910">
					<transition state="Battle01End01"/>
				</condition>
    <onExit>
    </onExit>
    </state>

	<state name="Battle01End01">
        <onEnter>
			<action name="HideGuideSummary" entityID="25101202"/>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="AddCinematicTalk" npcID="11003319" msg="$52000120_QD__01_HENESYSDEFENSE__14$" duration="5000" align="center" illustID="Oskhal_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
			<action name="SetSceneSkip" arg1="Battle01End01Skip" arg2=""/>
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="Battle01End01Skip"/>
		</condition>
	</state>

    <state name="Battle01End01Skip">
		<onEnter>
			<action name="SetSceneSkip" arg1="" arg2=""/>
			<action name="RemoveCinematicTalk" />
			<action name="몬스터소멸시킨다" arg1="901,902,903,904,905,906,907,908,909,910"/> 	 <!--Battle01_Mob -->
			<action name="NPC를이동시킨다" arg1="230" arg2="MS2PatrolData_230" />
			<action name="NPC를이동시킨다" arg1="231" arg2="MS2PatrolData_231" />
			<action name="NPC를이동시킨다" arg1="232" arg2="MS2PatrolData_232" />
			<action name="NPC를이동시킨다" arg1="233" arg2="MS2PatrolData_233" />
			<action name="NPC를이동시킨다" arg1="234" arg2="MS2PatrolData_234" />
			<action name="NPC를이동시킨다" arg1="235" arg2="MS2PatrolData_235" />
			<action name="NPC를이동시킨다" arg1="250" arg2="MS2PatrolData_250" />
			<action name="NPC를이동시킨다" arg1="251" arg2="MS2PatrolData_251" />
			<action name="NPC를이동시킨다" arg1="252" arg2="MS2PatrolData_252" />
			<action name="NPC를이동시킨다" arg1="253" arg2="MS2PatrolData_253" />
			<action name="NPC를이동시킨다" arg1="254" arg2="MS2PatrolData_254" />
			<action name="NPC를이동시킨다" arg1="255" arg2="MS2PatrolData_255" />
			<action name="연출UI를설정한다" arg1="0"/>
			<action name="연출UI를설정한다" arg1="2"/>
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="Battle01End02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="Battle01End02">
		<onEnter>
			<action name="PlaySystemSoundInBox" arg1="102" arg2="System_ShowGuideSummary_01"/>
			<action name="ShowGuideSummary" entityID="25101203" textID="25101203" durationTime="5000"/>  <!-- 가이드 : 서둘러 부상당한 자경단원들을 치료해주세요! -->
			</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="Battle02Start01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="Battle02Start01">
		<onEnter>
			<action name="몬스터를생성한다" arg1="911,912" arg2="0"/> 	 <!-- Battle02Wave -->
			</onEnter>
				<condition name="WaitTick" waitTick="5000">
					<transition state="Battle02Start02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="Battle02Start02">
		<onEnter>
			<action name="PlaySystemSoundInBox" arg1="102" arg2="System_ShowGuideSummary_01"/>
			<action name="ShowGuideSummary" entityID="25101204" textID="25101204" durationTime="5000"/>  <!-- 가이드 : 자경단원들과 함께 적군을 모두 물리치세요! -->
			<action name="몬스터를생성한다" arg1="913,914" arg2="0"/> 	 <!-- Battle02Wave -->
			</onEnter>
				<condition name="몬스터가죽어있으면" arg1="911,912,913,914">
					<transition state="Battle02End01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="Battle02End01">
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="AddCinematicTalk" npcID="11003319" msg="$52000120_QD__01_HENESYSDEFENSE__15$" duration="5000" align="center" illustID="Oskhal_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
			<action name="SetSceneSkip" arg1="Battle02End01Skip" arg2=""/>
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="Battle02End01Skip"/>
		</condition>
	</state>

    <state name="Battle02End01Skip">
		<onEnter>
			<action name="SetSceneSkip" arg1="" arg2=""/>
			<action name="RemoveCinematicTalk" />
			<action name="몬스터소멸시킨다" arg1="911,912,913,914"/> 	 <!--Battle02_Mob -->
			<action name="NPC를이동시킨다" arg1="204" arg2="MS2PatrolData_203" />
			<action name="NPC를이동시킨다" arg1="250" arg2="MS2PatrolData_250" />
			<action name="NPC를이동시킨다" arg1="251" arg2="MS2PatrolData_251" />
			<action name="NPC를이동시킨다" arg1="252" arg2="MS2PatrolData_252" />
			<action name="NPC를이동시킨다" arg1="253" arg2="MS2PatrolData_253" />
			<action name="NPC를이동시킨다" arg1="254" arg2="MS2PatrolData_254" />
			<action name="NPC를이동시킨다" arg1="255" arg2="MS2PatrolData_255" />
			<action name="NPC를이동시킨다" arg1="230" arg2="MS2PatrolData_230" />
			<action name="NPC를이동시킨다" arg1="231" arg2="MS2PatrolData_231" />
			<action name="NPC를이동시킨다" arg1="232" arg2="MS2PatrolData_232" />
			<action name="NPC를이동시킨다" arg1="233" arg2="MS2PatrolData_233" />
			<action name="NPC를이동시킨다" arg1="234" arg2="MS2PatrolData_234" />
			<action name="NPC를이동시킨다" arg1="235" arg2="MS2PatrolData_235" />
			<action name="연출UI를설정한다" arg1="0"/>
			<action name="연출UI를설정한다" arg1="2"/>
			</onEnter>
				<condition name="WaitTick" waitTick="3000">
					<transition state="Battle03Start01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="Battle03Start01">
		<onEnter>
			<action name="몬스터를생성한다" arg1="921,922" arg2="0"/> 	 <!-- Battle03Wave -->
			</onEnter>
				<condition name="WaitTick" waitTick="5000">
					<transition state="Battle03Start02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="Battle03Start02">
		<onEnter>
			<action name="몬스터를생성한다" arg1="923,924" arg2="0"/> 	 <!-- Battle03Wave -->
			</onEnter>
				<condition name="WaitTick" waitTick="10000">
					<transition state="Battle03Start03"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="Battle03Start03">
		<onEnter>
			<action name="몬스터를생성한다" arg1="925,926" arg2="0"/> 	 <!-- Battle03Wave -->
			</onEnter>
				<condition name="WaitTick" waitTick="5000">
					<transition state="Battle03Start04"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="Battle03Start04">
		<onEnter>
			<action name="몬스터를생성한다" arg1="927,928" arg2="0"/> 	 <!-- Battle03Wave -->
			</onEnter>
				<condition name="몬스터가죽어있으면" arg1="921,922,923,924,925,926,927,928">
					<transition state="Battle03End01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="Battle03End01">
        <onEnter>
			<action name="몬스터를생성한다" arg1="290" arg2="0"/> 		<!-- Turka -->
			<action name="몬스터소멸시킨다" arg1="921,922,923,924,925,926,927,928"/> 	 <!--Battle03_Mob -->
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="카메라를선택한다" arg1="40" arg2="1"/>
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1003" />
        </onEnter>
				<condition name="WaitTick" waitTick="1000">
			<transition state="TurkaWalkIn01"/>
		</condition>
	</state>

    <state name="TurkaWalkIn01">
		<onEnter>
			<action name="NPC를이동시킨다" arg1="230" arg2="MS2PatrolData_230" />
			<action name="NPC를이동시킨다" arg1="231" arg2="MS2PatrolData_231" />
			<action name="NPC를이동시킨다" arg1="232" arg2="MS2PatrolData_232" />
			<action name="NPC를이동시킨다" arg1="233" arg2="MS2PatrolData_233" />
			<action name="NPC를이동시킨다" arg1="234" arg2="MS2PatrolData_234" />
			<action name="NPC를이동시킨다" arg1="235" arg2="MS2PatrolData_235" />
			<action name="NPC를이동시킨다" arg1="204" arg2="MS2PatrolData_203" />
			<action name="NPC를이동시킨다" arg1="250" arg2="MS2PatrolData_250" />
			<action name="NPC를이동시킨다" arg1="251" arg2="MS2PatrolData_251" />
			<action name="NPC를이동시킨다" arg1="252" arg2="MS2PatrolData_252" />
			<action name="NPC를이동시킨다" arg1="253" arg2="MS2PatrolData_253" />
			<action name="NPC를이동시킨다" arg1="254" arg2="MS2PatrolData_254" />
			<action name="NPC를이동시킨다" arg1="255" arg2="MS2PatrolData_255" />
			<action name="SetUserValue" triggerID="4" key="BattleEnd" value="1" />
			<action name="SetUserValue" triggerID="5" key="BattleEnd" value="1" />
			<action name="SetUserValue" triggerID="6" key="BattleEnd" value="1" />
			<action name="SetUserValue" triggerID="7" key="BattleEnd" value="1" />
			<action name="SetUserValue" triggerID="8" key="BattleEnd" value="1" />
			<action name="SetUserValue" triggerID="9" key="BattleEnd" value="1" />
			<action name="NPC를이동시킨다" arg1="290" arg2="MS2PatrolData_301" />
			<action name="몬스터소멸시킨다" arg1="204" />
			<action name="몬스터를생성한다" arg1="205" arg2="1" />
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1004" />
			</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="TurkaWalkIn02"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="TurkaWalkIn02">
        <onEnter>
			<action name="NPC를이동시킨다" arg1="205" arg2="MS2PatrolData_205" />
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1003" />
        </onEnter>
				<condition name="WaitTick" waitTick="3000">
			<transition state="TurkaTalk01"/>
		</condition>
	</state>

	<state name="TurkaTalk01">
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="이펙트를설정한다" arg1="5000" arg2="1"/> <!-- DarkCloud-->
			<action name="이펙트를설정한다" arg1="5001" arg2="1"/> <!-- DarkCloud-->
			<action name="AddCinematicTalk" npcID="11003226" msg="$52000120_QD__01_HENESYSDEFENSE__16$" duration="5000" align="center" illustID="0"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
			<action name="SetSceneSkip" arg1="ManovichTalk03_CSkip" arg2="exit" />
        </onEnter>
				<condition name="WaitTick" waitTick="5000">
			<transition state="TurkaTalk01Skip"/>
		</condition>
	</state>

    <state name="TurkaTalk01Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			</onEnter>
				<condition name="무조건">
					<transition state="ChangeView01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="ChangeView01" >
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="SetOnetimeEffect" id="1" enable="1" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="ChangeView02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="ChangeView02" >
        <onEnter>
			<action name="카메라를선택한다" arg1="42" arg2="1"/>
				</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="ChangeView03"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="ChangeView03" >
        <onEnter>
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="TurkaTalk02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

	<state name="TurkaTalk02">
        <onEnter>
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="AddCinematicTalk" npcID="11003226" msg="$52000120_QD__01_HENESYSDEFENSE__17$" duration="4000" align="center" illustID="Turka_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="TurkaTalk02Skip"/>
		</condition>
	</state>

    <state name="TurkaTalk02Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			<action name="NPC를이동시킨다" arg1="290" arg2="MS2PatrolData_302" />
			<action name="몬스터소멸시킨다" arg1="980,981,982,983,984,985,990,991,992,993,994,995" />
			<action name="몬스터를생성한다" arg1="960,961,962,963,964,965,970,971,972,973,974,975" arg2="0" />
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="EnemyRetreat01"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="EnemyRetreat01" >
        <onEnter>
			<action name="카메라를선택한다" arg1="43" arg2="1"/>				<!-- 퇴각 연출 -->
				</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="EnemyRetreat02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="EnemyRetreat02">
		<onEnter>
			<action name="NPC를이동시킨다" arg1="144" arg2="MS2PatrolData_2001" />		<!-- DevilWitch -->	<!-- Right Group1-->
			<action name="NPC를이동시킨다" arg1="145" arg2="MS2PatrolData_2105" />		<!-- DevilWitch -->
			<action name="NPC를이동시킨다" arg1="146" arg2="MS2PatrolData_2101" />		<!-- DevilWitch -->
			<action name="NPC를이동시킨다" arg1="147" arg2="MS2PatrolData_2003" />		<!-- DevilWitch -->
			<action name="NPC를이동시킨다" arg1="170" arg2="MS2PatrolData_2104" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="172" arg2="MS2PatrolData_2102" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="178" arg2="MS2PatrolData_2002" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="179" arg2="MS2PatrolData_2104" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="180" arg2="MS2PatrolData_2101" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="112" arg2="MS2PatrolData_2103" />		<!-- DevilHuge -->
			<action name="NPC를이동시킨다" arg1="160" arg2="MS2PatrolData_2206" />		<!-- DevilJunior -->	<!-- Left Group1-->
			<action name="NPC를이동시킨다" arg1="161" arg2="MS2PatrolData_2203" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="162" arg2="MS2PatrolData_2203" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="163" arg2="MS2PatrolData_2202" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="164" arg2="MS2PatrolData_2201" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="165" arg2="MS2PatrolData_2205" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="166" arg2="MS2PatrolData_2204" />		<!-- DevilJunior -->
			</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="EnemyRetreat03"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="EnemyRetreat03">
		<onEnter>
			<action name="NPC를이동시킨다" arg1="171" arg2="MS2PatrolData_2101" />		<!-- DevilJunior -->	<!-- Right Group2-->
			<action name="NPC를이동시킨다" arg1="174" arg2="MS2PatrolData_2103" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="175" arg2="MS2PatrolData_2101" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="176" arg2="MS2PatrolData_2105" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="177" arg2="MS2PatrolData_2003" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="150" arg2="MS2PatrolData_2104" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="151" arg2="MS2PatrolData_2101" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="152" arg2="MS2PatrolData_2103" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="153" arg2="MS2PatrolData_2104" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="154" arg2="MS2PatrolData_2102" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="155" arg2="MS2PatrolData_2105" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="156" arg2="MS2PatrolData_2101" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="140" arg2="MS2PatrolData_2206" />		<!-- DevilWitch -->	<!-- Left Group2-->
			<action name="NPC를이동시킨다" arg1="141" arg2="MS2PatrolData_2203" />		<!-- DevilWitch -->
			<action name="NPC를이동시킨다" arg1="142" arg2="MS2PatrolData_2205" />		<!-- DevilWitch -->
			<action name="NPC를이동시킨다" arg1="143" arg2="MS2PatrolData_2201" />		<!-- DevilWitch -->
			<action name="NPC를이동시킨다" arg1="167" arg2="MS2PatrolData_2202" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="168" arg2="MS2PatrolData_2203" />		<!-- DevilJunior -->
			<action name="NPC를이동시킨다" arg1="169" arg2="MS2PatrolData_2206" />		<!-- DevilJunior -->
			</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="EnemyRetreat04"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="EnemyRetreat04">
		<onEnter>
			<action name="NPC를이동시킨다" arg1="191" arg2="MS2PatrolData_2101" />		<!-- DevilHornIronMace -->	<!-- Right Group3-->
			<action name="NPC를이동시킨다" arg1="192" arg2="MS2PatrolData_2103" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="193" arg2="MS2PatrolData_2101" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="194" arg2="MS2PatrolData_2105" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="195" arg2="MS2PatrolData_2003" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="114" arg2="MS2PatrolData_2204" />		<!-- DevilHornIronMace -->	<!-- Left Group3-->
			<action name="NPC를이동시킨다" arg1="115" arg2="MS2PatrolData_2205" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="116" arg2="MS2PatrolData_2201" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="117" arg2="MS2PatrolData_2202" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="118" arg2="MS2PatrolData_2206" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="110" arg2="MS2PatrolData_2203" />		<!-- DevilHuge -->
			</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="EnemyRetreat05"/>
				</condition>
		<onExit>
		</onExit>
    </state>


    <state name="EnemyRetreat05">
		<onEnter>
			<action name="NPC를이동시킨다" arg1="111" arg2="MS2PatrolData_2002" />		<!-- DevilHuge -->		<!-- Right Group4-->
			<action name="NPC를이동시킨다" arg1="187" arg2="MS2PatrolData_2001" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="188" arg2="MS2PatrolData_2003" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="189" arg2="MS2PatrolData_2101" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="190" arg2="MS2PatrolData_2001" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="120" arg2="MS2PatrolData_2202" />		<!-- DevilHornSpear -->		<!-- Left Group4-->
			<action name="NPC를이동시킨다" arg1="121" arg2="MS2PatrolData_2201" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="122" arg2="MS2PatrolData_2203" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="123" arg2="MS2PatrolData_2203" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="124" arg2="MS2PatrolData_2202" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="125" arg2="MS2PatrolData_2201" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="126" arg2="MS2PatrolData_2206" />		<!-- DevilHornSpear -->
			</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="EnemyRetreat06"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="EnemyRetreat06">
		<onEnter>
			<action name="몬스터소멸시킨다" arg1="112,144,145,146,147,170,172,178,179,180"/> 		<!-- Right Group1-->
			<action name="몬스터소멸시킨다" arg1="160,161,162,163,164,165,166"/> 		<!-- Left Group1-->
			<action name="NPC를이동시킨다" arg1="130" arg2="MS2PatrolData_2101" />		<!-- DevilHornSpear -->		<!-- Right Group5-->
			<action name="NPC를이동시킨다" arg1="131" arg2="MS2PatrolData_2003" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="132" arg2="MS2PatrolData_2002" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="133" arg2="MS2PatrolData_2001" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="134" arg2="MS2PatrolData_2001" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="135" arg2="MS2PatrolData_2002" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="136" arg2="MS2PatrolData_2003" />		<!-- DevilHornSpear -->
			<action name="NPC를이동시킨다" arg1="184" arg2="MS2PatrolData_2102" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="113" arg2="MS2PatrolData_2201" />		<!-- DevilHornIronMace -->		<!-- Left Group5-->
			<action name="NPC를이동시킨다" arg1="196" arg2="MS2PatrolData_2201" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="197" arg2="MS2PatrolData_2203" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="198" arg2="MS2PatrolData_2206" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="199" arg2="MS2PatrolData_2205" />		<!-- DevilHornIronMace -->
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="EnemyRetreat07"/>
				</condition>
		<onExit>
		</onExit>
    </state>


    <state name="EnemyRetreat07">
		<onEnter>
			<action name="몬스터소멸시킨다" arg1="171,174,175,176,177,150,151,152,153,154,155,156"/> 		<!-- Right Group2-->
			<action name="몬스터소멸시킨다" arg1="140,141,142,143,167,168,169"/> 		<!-- Left Group2-->
			<action name="NPC를이동시킨다" arg1="181" arg2="MS2PatrolData_2001" />		<!-- DevilHornIronMace -->		<!-- Right Group6-->
			<action name="NPC를이동시킨다" arg1="182" arg2="MS2PatrolData_2002" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="183" arg2="MS2PatrolData_2003" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="185" arg2="MS2PatrolData_2002" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="186" arg2="MS2PatrolData_2001" />		<!-- DevilHornIronMace -->
			<action name="NPC를이동시킨다" arg1="960" arg2="MS2PatrolData_2201" />		<!-- ShieldBarrierLeft -->		<!-- Left Group6-->
			<action name="NPC를이동시킨다" arg1="961" arg2="MS2PatrolData_2202" />		<!-- ShieldBarrierLeft -->
			<action name="NPC를이동시킨다" arg1="962" arg2="MS2PatrolData_2203" />		<!-- ShieldBarrierLeft -->
			<action name="NPC를이동시킨다" arg1="963" arg2="MS2PatrolData_2203" />		<!-- ShieldBarrierLeft -->
			<action name="NPC를이동시킨다" arg1="964" arg2="MS2PatrolData_2201" />		<!-- ShieldBarrierLeft -->
			<action name="NPC를이동시킨다" arg1="965" arg2="MS2PatrolData_2202" />		<!-- ShieldBarrierLeft -->
			<action name="NPC를이동시킨다" arg1="970" arg2="MS2PatrolData_2002" />		<!-- ShieldBarrierRight -->		<!-- Right Group7-->
			<action name="NPC를이동시킨다" arg1="971" arg2="MS2PatrolData_2003" />		<!-- ShieldBarrierRight -->
			<action name="NPC를이동시킨다" arg1="972" arg2="MS2PatrolData_2003" />		<!-- ShieldBarrierRight -->
			<action name="NPC를이동시킨다" arg1="973" arg2="MS2PatrolData_2002" />		<!-- ShieldBarrierRight -->
			<action name="NPC를이동시킨다" arg1="974" arg2="MS2PatrolData_2001" />		<!-- ShieldBarrierRight -->
			<action name="NPC를이동시킨다" arg1="975" arg2="MS2PatrolData_2001" />		<!-- ShieldBarrierRight -->
			</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="EnemyRetreat08"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="EnemyRetreat08">
		<onEnter>
			<action name="몬스터소멸시킨다" arg1="191,192,193,194,195"/> 		<!-- Right Group3-->
			<action name="몬스터소멸시킨다" arg1="114,115,116,117,118,110"/> 		<!-- Left Group3-->
			</onEnter>
				<condition name="WaitTick" waitTick="4000">
					<transition state="EnemyRetreat09"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="EnemyRetreat09">
		<onEnter>
			<action name="몬스터소멸시킨다" arg1="111,187,188,189,190"/> 		<!-- Right Group4-->
			<action name="몬스터소멸시킨다" arg1="120,121,122,123,124,125,126"/> 		<!-- Left Group4-->
			</onEnter>
				<condition name="WaitTick" waitTick="2000">
					<transition state="EnemyRetreat10"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="EnemyRetreat10">
		<onEnter>
			<action name="몬스터소멸시킨다" arg1="130,131,132,133,134,135,136,184"/> 		<!-- Right Group5-->
			<action name="몬스터소멸시킨다" arg1="113,196,197,198,199"/> 		<!-- Left Group5-->
			</onEnter>
				<condition name="WaitTick" waitTick="3000">
					<transition state="EnemyRetreat11"/>
				</condition>
		<onExit>
		</onExit>
    </state>

    <state name="EnemyRetreat11" >
        <onEnter>
			<action name="몬스터소멸시킨다" arg1="181,182,183,184,185,186"/> 		<!-- Right Group6-->
			<action name="몬스터소멸시킨다" arg1="990,991,992,993,994,995"/> 		<!-- Left Group6-->
			<action name="몬스터소멸시킨다" arg1="980,981,982,983,984,985"/> 		<!-- Right Group7-->
			<action name="몬스터소멸시킨다" arg1="290"/> 	 <!--Turka -->
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="Ending01"/>
				</condition>
    <onExit>
    </onExit>
    </state>
    <state name="Ending01" >
        <onEnter>
			<action name="카메라를선택한다" arg1="44" arg2="1"/>
				</onEnter>
				<condition name="WaitTick" waitTick="500">
					<transition state="Ending02"/>
				</condition>
    <onExit>
    </onExit>
    </state>

    <state name="Ending02" >
        <onEnter>
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
				</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="ManovichTalk03"/>
				</condition>
    <onExit>
    </onExit>
    </state>

	<state name="ManovichTalk03">
        <onEnter>
			<action name="SetNpcEmotionSequence" arg1="101" arg2="Bore_A" />
			<action name="AddCinematicTalk" npcID="11003221" msg="$52000120_QD__01_HENESYSDEFENSE__18$" duration="4000" align="center" illustID="Manovich_normal"/>
			<!-- align = 일러스트 위치 : (left/ center/ right) 3가지 지원 (생략 시 center) -->
			<!-- illustID = 표시할 일러스트의 npc id, 일러스트를 표시하기 싫으면 0으로 기입 -->
        </onEnter>
				<condition name="WaitTick" waitTick="4000">
			<transition state="ManovichTalk03Skip"/>
		</condition>
	</state>
    <state name="ManovichTalk03_CSkip">
		<onEnter>
			<action name="몬스터소멸시킨다" arg1="all"/> 	 <!--Turka -->
			<action name="카메라를선택한다" arg1="44" arg2="1"/>
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="ManovichTalk03Skip"/>
				</condition>
		<onExit>
		</onExit>
    </state>
    <state name="ManovichTalk03Skip">
		<onEnter>
			<action name="RemoveCinematicTalk" />
			<action name="SetOnetimeEffect" id="1" enable="0" path="BG/Common/ScreenMask/Eff_fadein_halfsec.xml"/>
			<action name="업적이벤트를발생시킨다" arg1="9900" arg2="trigger" arg3="henesysinvasion"/>
			</onEnter>
				<condition name="WaitTick" waitTick="1000">
					<transition state="Quit"/>
				</condition>
		<onExit>
		</onExit>
    </state>

	<state name="Quit" >
        <onEnter>
			<action name="카메라리셋" interpolationTime="1.0"/>
			<action name="연출UI를설정한다" arg1="0"/>
			<action name="연출UI를설정한다" arg1="2"/>
			<action name="유저를이동시킨다" arg1="02000072" arg2="1"/>
			<action name="SetUserValue" triggerID="10" key="DefencePhase" value="3" />
        </onEnter>
        <condition name="WaitTick" waitTick="1000">
          <transition state="Leave"/>	<!-- 맵 튕기고 이동 명령 못 받을 상태를 대비한 스테이트 -->
        </condition>
    <onExit>
    </onExit>
    </state>

    <state name="Leave" >
        <onEnter>
      <action name="유저를이동시킨다" arg1="02000072" arg2="1"/>        <!-- 맵 튕기고 이동 명령 못 받을 상태를 대비한 스테이트 -->
        </onEnter>
      <condition name="WaitTick" waitTick="2000">
          <transition state="Leave"/>
        </condition>
    <onExit>
    </onExit>
    </state>

</ms2>

