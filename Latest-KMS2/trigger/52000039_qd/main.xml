<?xml version="1.0" encoding="utf-8"?>
<!-- 비욘드 링크 정보 수집실 -->	

<ms2>
	<state name="ready">
        <onEnter>	
			<action name="포탈을설정한다" arg1="2" arg2="0" arg3="0" arg4="0"/>
			<action name="HideGuideSummary" entityID="20020030"/>	
			<action name="HideGuideSummary" entityID="20020031"/>				
        </onEnter>	
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003054" arg3="3" >   <!-- 다시 돌아오다 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003054" arg3="2" >   <!-- 다시 돌아오다 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003054" arg3="1" >   <!-- 다시 돌아오다 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003053" arg3="3" >   <!-- 스승의 발자취 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003053" arg3="2" >   <!-- 스승의 발자취 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003053" arg3="1" >   <!-- 스승의 발자취 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003052" arg3="3" >   <!-- 멈출 수 없어 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003052" arg3="2" >   <!-- 멈출 수 없어 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003052" arg3="1" >   <!-- 멈출 수 없어 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003051" arg3="3" >   <!-- 진심어린 충고 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003051" arg3="2" >   <!-- 진심어린 충고 퀘스트 -->
			<transition state="NextMapPortalOpen"/>	
		</condition>	

		<condition name="퀘스트유저를감지하면" arg1="701" arg2="10003051" arg3="1" >   <!-- 진심어린 충고 퀘스트 수락한 상태 -->
			<action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="PCPatrol01"/>	
		</condition>	

		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002635" arg3="3" >   <!-- 포탈 생성 되어있음 -->
			<action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="scene_c_01"/>	
		</condition>	
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002635" arg3="2" >   <!-- 포탈 생성 되어있음 -->
			<action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="scene_c_01"/>	
		</condition>	
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002635" arg3="1" >   <!-- 포탈 생성 되어있음 -->
			<action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="scene_c_01"/>	
		</condition>	
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002634" arg3="3" >   <!-- 완료 가능상태 -->
		    <action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="scene_b_07"/>
		</condition>
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002634" arg3="2" >   <!-- 완료 가능상태 -->
		    <action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="scene_b_07"/>
		</condition>
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002635" arg3="1" >   <!-- 포탈 생성 되어있음 -->
			<action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="scene_c_01"/>	
		</condition>	
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002633" arg3="1" >   
			<transition state="ready_02"/>
		</condition>

		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002633" arg3="2" > <!--   비욘드로이드 3명 처치 후 완료 가능 상태-->
			<transition state="scene_b_01"/>
			<action name="몬스터를생성한다" arg1="101" arg2="1" />	
		</condition>
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002633" arg3="3" > <!--   비욘드로이드 3명 처치 후 완료 상태 -->
			<transition state="scene_b_01"/>
			<action name="몬스터를생성한다" arg1="101" arg2="1" />	
		</condition>
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002634" arg3="1" >   <!-- 자베스 뛰어감 -->
			<transition state="scene_b_02"/>
			<action name="몬스터를생성한다" arg1="101" arg2="1" />	
			<action name="NPC를이동시킨다" arg1="101" arg2="MS2PatrolData_2001" />
			<action name="몬스터를생성한다" arg1="122" arg2="1" />	
		</condition>				
		
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002635" arg3="2" >   <!-- 포탈 생성 되어있음 -->
			<action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="scene_c_01"/>	
		</condition>	
		
		<condition name="유저를감지했으면" arg1="701" arg2="110">   <!-- 소울 바인더가 입장시에는 포탈 생성 되어있음 -->
			<action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
			<transition state="scene_c_01"/>	
		</condition>	
	</state>		
	
	<state name="ready_02">
        <onEnter>
			<action name="몬스터를생성한다" arg1="201,202, 203" arg2="0" />
	        <action name="몬스터를생성한다" arg1="101,102" arg2="1" />			
        </onEnter>			
		<condition name="퀘스트유저를감지하면" arg1="702" arg2="40002633" arg3="1" >   
			<transition state="start"/>
		</condition> 
	</state>
	
	
	<state name="start">
        <onEnter>	

			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			 <action name="카메라를선택한다" arg1="7001" arg2="1"/>
			<action name="NPC를이동시킨다" arg1="101" arg2="MS2PatrolData_2001" />
			<action name="NPC를이동시킨다" arg1="102" arg2="MS2PatrolData_2002" />
        </onEnter>	
			<condition name="WaitTick" waitTick="1500" > 
				<transition state="start_02" />
			</condition>
	</state>	
	
	
	<state name="start_02">
        <onEnter>
			<action name="타이머를설정한다" arg1="5" arg2="5"/>
			<action name="대화를설정한다" arg1="2" arg2="11001546" arg3="$52000039_QD__MAIN__0$" arg4="5"/>
        </onEnter>
		<condition name="WaitTick" waitTick="3000" > 
			<transition state="start_03" />
			<action name="연출UI를설정한다" arg1="0"/>
			<action name="연출UI를설정한다" arg1="2"/>
			<action name="카메라를선택한다" arg1="7001" arg2="0"/>
		</condition>		
	</state>	

	<state name="start_03">
        <onEnter>
			<action name="ShowGuideSummary" entityID="20020030" textID="20020030"/> 
        </onEnter>	
		
		<condition name="몬스터가죽어있으면" arg1="201,202,203">
            <transition state="scene_b_01" />
			<action name="몬스터소멸시킨다" arg1="102"/>
			<action name="HideGuideSummary" entityID="20020030"/>
        </condition>
	</state>	
	
	
	<state name="scene_b_01">
        <onEnter>
			<action name="업적이벤트를발생시킨다" arg1="701" arg2="trigger" arg3="beyondroid2"/> 
			<action name="몬스터를생성한다" arg1="112" arg2="1" />	
        </onEnter>
		<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002634" arg3="1" >   
			<transition state="scene_b_02"/>
			<action name="몬스터소멸시킨다" arg1="112"/>
			<action name="몬스터를생성한다" arg1="122" arg2="1" />	
		</condition>
	</state>	
	

	<state name="scene_b_02">
        <onEnter>
			<action name="NPC를이동시킨다" arg1="122" arg2="MS2PatrolData_2004" />
			<action name="대화를설정한다" arg1="1" arg2="122" arg3="$52000039_QD__MAIN__1$" arg4="3" arg5="0"/>
		    <action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
	     </onEnter>		
		 <condition name="NPC를감지했으면" arg1="703" arg2="122">
            <transition state="scene_b_03" />
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>
			<action name="카메라를선택한다" arg1="7002" arg2="1"/>
			<action name="유저를이동시킨다" arg1="52000039" arg2="3"/>
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
         </condition>
	</state>	
	
	<state name="scene_b_03">
        <onEnter>
			<action name="NPC를이동시킨다" arg1="122" arg2="MS2PatrolData_2006" />	
			<action name="대화를설정한다" arg1="2" arg2="11001546" arg3="$52000039_QD__MAIN__2$" arg4="3"/>
		    <action name="액터를설정한다" arg1="3010" arg2="1" arg3="Idle_A" /> 
	     </onEnter>		
			<condition name="WaitTick" waitTick="3000" > 
				<transition state="scene_b_04" />
			</condition>
	</state>	
	
	
	<state name="scene_b_04">
        <onEnter>
			<action name="카메라를선택한다" arg1="7003" arg2="1"/>
			<action name="NPC를이동시킨다" arg1="122" arg2="MS2PatrolData_2008" />	
			<action name="대화를설정한다" arg1="1" arg2="122" arg3="$52000039_QD__MAIN__3$" arg4="3"/>
		    <action name="액터를설정한다" arg1="3010" arg2="1" arg3="Idle_A" /> 
	     </onEnter>		
			<condition name="WaitTick" waitTick="3000" > 
				<transition state="scene_b_05" />
			</condition>
	</state>	
	
	<state name="scene_b_05">
        <onEnter>
		    <action name="액터를설정한다" arg1="3010" arg2="1" arg3="Attack_01_D" /> 
	     </onEnter>		
			<condition name="WaitTick" waitTick="650" > 
				<transition state="scene_b_06" />
			</condition>
	</state>
	
	<state name="scene_b_06">
        <onEnter>
			<action name="연출UI를설정한다" arg1="2"/>
			<action name="연출UI를설정한다" arg1="4"/>
			<action name="NPC를이동시킨다" arg1="122" arg2="MS2PatrolData_2010" />	
	     </onEnter>		
			<condition name="WaitTick" waitTick="1000" > 
				<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 
				<action name="몬스터를생성한다" arg1="210" arg2="1" />	
				<transition state="scene_b_07" />
			</condition>
	</state>
	
	<state name="scene_b_07">
        <onEnter>
			<action name="ShowGuideSummary" entityID="20020031" textID="20020031"/> 
			<action name="카메라를선택한다" arg1="7003" arg2="0"/>
			<action name="연출UI를설정한다" arg1="0"/>
			<action name="연출UI를설정한다" arg1="2"/>
	    </onEnter>		
		<condition name="몬스터가죽어있으면" arg1="210">
            <transition state="scene_b_08" />
			<action name="HideGuideSummary" entityID="20020031"/>	
			<action name="업적이벤트를발생시킨다" arg1="701" arg2="trigger" arg3="beyondguard"/> 
			<action name="몬스터소멸시킨다" arg1="101,122"/>		
        </condition>
	</state>
	
	<state name="scene_b_08">
        <onEnter>
			<action name="몬스터를생성한다" arg1="111,132" arg2="1" />	
	    </onEnter>
			<condition name="WaitTick" waitTick="300" > 
				<transition state="scene_b_09" />
			</condition>		
	</state>
	
	<state name="scene_b_09">
        <onEnter>
			<action name="대화를설정한다" arg1="1" arg2="132" arg3="$52000039_QD__MAIN__4$" arg4="3"/>
			<action name="SetNpcEmotionLoop" arg1="132" arg2="Sit_Down_A" arg3="3000" />				
			<action name="SetNpcEmotionLoop" arg1="111" arg2="Sit_Down_A" arg3="3000" />
	    </onEnter>	
			<condition name="WaitTick" waitTick="3000" > 
				<transition state="scene_b_10" />
			</condition>	
	</state>
	
	<state name="scene_b_10">
        <onEnter>
			<action name="대화를설정한다" arg1="1" arg2="132" arg3="$52000039_QD__MAIN__5$" arg4="3"/>
			<action name="SetNpcEmotionLoop" arg1="132" arg2="Stun_A" arg3="3000" />				
			<action name="SetNpcEmotionLoop" arg1="111" arg2="Stun_A" arg3="3000" />
	    </onEnter>	
			<condition name="퀘스트유저를감지하면" arg1="701" arg2="40002635" arg3="1" >   
				<transition state="scene_c_01"/>	
			</condition>			
	</state>	
	
	<state name="scene_c_01"> 
        <onEnter>
			<action name="대화를설정한다" arg1="1" arg2="132" arg3="$52000039_QD__MAIN__6$" arg4="3"/>
				<action name="NPC를이동시킨다" arg1="132" arg2="MS2PatrolData_2012" />	
				<action name="NPC를이동시킨다" arg1="111" arg2="MS2PatrolData_2011" />	 
				
	    </onEnter>	
			<condition name="WaitTick" waitTick="4000" > 
				<transition state="scene_c_02" />
			</condition>				
	</state>	

	<state name="scene_c_02">
        <onEnter> 
			<action name="포탈을설정한다" arg1="2" arg2="1" arg3="1" arg4="1"/>
			<action name="몬스터소멸시킨다" arg1="132,111"/>	
	    </onEnter>				
	</state>	

<!-- 비욘드 링크 중앙 컴퓨터실 포탈 열림 -->	
	<state name="NextMapPortalOpen">
        <onEnter> 
			<action name="액터를설정한다" arg1="3001" arg2="1" arg3="sf_fi_funct_door_A01_Opened" /> 
			<action name="메쉬를설정한다" arg1="6001" arg2="0" />
			<action name="메쉬를설정한다" arg1="6010" arg2="0" />
			<action name="액터를설정한다" arg1="3010" arg2="0" arg3="Idle_A" /> 		
			<action name="포탈을설정한다" arg1="2" arg2="1" arg3="1" arg4="1"/>	
	    </onEnter>				
	</state>		
	
<!-- 흑성회 본부 지하 밀실 이동 -->	
    <state name="PCPatrol01" >
        <onEnter>	
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>  
			<action name="연출UI를설정한다" arg1="4"/>			
				</onEnter>	
				<condition name="WaitTick" waitTick="2000">	
					<transition state="PCPatrol02"/>
				</condition>				
    <onExit> 
    </onExit>
    </state>			
	
    <state name="PCPatrol02" >
        <onEnter>	
			<action name="카메라를선택한다" arg1="500" arg2="1"/>			
				</onEnter>	
				<condition name="WaitTick" waitTick="1000">	
					<transition state="PCPatrol03"/>
				</condition>				
    <onExit> 
    </onExit>
    </state>			

    <state name="PCPatrol03" >
        <onEnter>	
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>  	
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1000" />					
				</onEnter>	
				<condition name="WaitTick" waitTick="1000">	
					<transition state="LookAround01"/>
				</condition>				
    <onExit> 
    </onExit>
    </state>			
	
    <state name="LookAround01" >
        <onEnter>	
			<action name="SetPcEmotionSequence" arg1="Bore_C" />	
			<action name="대화를설정한다" arg1="1" arg2="0" arg3="$52000039_QD__MAIN__7$" arg4="2" arg5="0" />					
				</onEnter>	
				<condition name="WaitTick" waitTick="3000">	
					<transition state="LookAround02"/>
				</condition>				
    <onExit> 
    </onExit>
    </state>		

    <state name="LookAround02" >
        <onEnter>	 
			<action name="카메라를선택한다" arg1="501" arg2="1"/>				
			<action name="대화를설정한다" arg1="1" arg2="0" arg3="$52000039_QD__MAIN__8$" arg4="2" arg5="0" />		
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1001" />					
				</onEnter>	
				<condition name="WaitTick" waitTick="3000">	
					<transition state="LookAround03"/>
				</condition>				
    <onExit> 
    </onExit>
    </state>	

    <state name="LookAround03" >
        <onEnter>		
			<action name="유저를경로이동시킨다" arg1="MS2PatrolData_1002" />				
			<action name="대화를설정한다" arg1="1" arg2="0" arg3="$52000039_QD__MAIN__9$" arg4="2" arg5="0" />					
				</onEnter>	
				<condition name="WaitTick" waitTick="1600">	
					<transition state="PCFainted01"/>
				</condition>				
    <onExit> 
    </onExit>
    </state>	
	
    <state name="PCFainted01" >
        <onEnter>		
			<action name="카메라를선택한다" arg1="502" arg2="1"/>				
			<action name="SetPcEmotionSequence" arg1="Down2_A,Down_Idle_A" />				
				</onEnter>				
				<condition name="WaitTick" waitTick="2667">
					<transition state="PCTeleport01"/>	
				</condition>					
    <onExit> 
    </onExit>	
    </state>	
	
    <state name="PCTeleport01" >	
        <onEnter>	
			<action name="SetPcEmotionLoop" arg1="Down_Idle_A" arg2="10000" />				
			<action name="연출UI를설정한다" arg1="1"/>
			<action name="연출UI를설정한다" arg1="3"/>  
			<action name="연출UI를설정한다" arg1="4"/>  				
				</onEnter>	
				<condition name="WaitTick" waitTick="2000">	
					<transition state="PCTeleport02"/>
				</condition>					
    <onExit> 
    </onExit>
    </state>	
	
    <state name="PCTeleport02" >
        <onEnter>	
			<action name="유저를이동시킨다" arg1="52000045" arg2="2" arg3="701" />		
			<action name="카메라를선택한다" arg1="502" arg2="0"/>					
				</onEnter>				
    <onExit> 		
			<action name="연출UI를설정한다" arg1="0"/>
			<action name="연출UI를설정한다" arg1="2"/>  	
    </onExit>
    </state>	 
	
</ms2>

