<?xml version="1.0" encoding="utf-8"?>

<!-- 철창 올라가 있는 상태 -->
<ms2>
  <state name="Setting">
    <onEnter>	
			<action name="오브젝트반응설정한다" arg1="10002051" arg2="0" />	<!-- Lever_BlockStart -->	
			<action name="오브젝트반응설정한다" arg1="10002052" arg2="0" />	<!-- Lever_BlockOff -->				
			<action name="메쉬를설정한다" arg1="6200-6211" arg2="0" arg3="0" arg4="0" arg5="0" /> <!-- GratingDown -->			
			<action name="메쉬를설정한다" arg1="6300-6305" arg2="1" arg3="0" arg4="0" arg5="0" /> <!-- GratingUp -->	
			<action name="메쉬를설정한다" arg1="3901" arg2="0" arg3="0" arg4="0" arg5="0" /> <!-- InvisibleBarrier_TOKfalse -->					
			<action name="움직이는발판을설정한다" arg1="6000" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6001" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6002" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6003" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6004" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6005" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6006" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6007" arg2="0" />	<!-- Grating_Start -->		
			<action name="움직이는발판을설정한다" arg1="6008" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6009" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6010" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6011" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6000" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6001" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6002" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6003" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6004" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6005" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6006" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6007" arg2="0" />	<!-- Grating_Start -->		
			<action name="SetVisibleBreakableObject" arg1="6008" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6009" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6010" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6011" arg2="0" />	<!-- Grating_Start -->	
			<action name="움직이는발판을설정한다" arg1="6100" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6101" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6102" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6103" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6104" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6105" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6106" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6107" arg2="0" />	<!-- Grating_Off -->		
			<action name="움직이는발판을설정한다" arg1="6108" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6109" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6110" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6111" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6100" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6101" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6102" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6103" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6104" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6105" arg2="0" />	<!-- Grating_Off -->	
			<action name="SetVisibleBreakableObject" arg1="6106" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6107" arg2="0" />	<!-- Grating_Off -->		
			<action name="SetVisibleBreakableObject" arg1="6108" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6109" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6110" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6111" arg2="0" />	<!-- Grating_Off -->				
			<action name="AGENT를설정한다" arg1="8000" arg2="0"/>	
			<action name="AGENT를설정한다" arg1="8001" arg2="0"/>	
			<action name="AGENT를설정한다" arg1="8002" arg2="0"/>				
			<action name="SetUserValue" key="BlockEnable" value="0" /> 	
    </onEnter>
			<condition name="UserValue" key="BlockEnable" value="1">
			<transition state="BlockEnable"/>	
    </condition>
    <onExit>	
    </onExit>
  </state>
 
	<state name="BlockEnable">	
		<onEnter>			
			<action name="오브젝트반응설정한다" arg1="10002051" arg2="1" />	<!-- Lever_BlockStart -->						
		</onEnter>
				<condition name="오브젝트가반응했으면" arg1="10002051" arg2="0" >	
			<transition state="BlockStart"/>
		</condition>
		<onExit>
		</onExit>
	</state>  
  
    <state name="BlockStart" >
        <onEnter>		
			<action name="메쉬를설정한다" arg1="6300-6305" arg2="0" arg3="100" arg4="0" arg5="2" /> <!-- GratingUp -->	
			<action name="움직이는발판을설정한다" arg1="6000" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6001" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6002" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6003" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6004" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6005" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6006" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6007" arg2="1" />	<!-- Grating_Start -->		
			<action name="움직이는발판을설정한다" arg1="6008" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6009" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6010" arg2="1" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6011" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6000" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6001" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6002" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6003" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6004" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6005" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6006" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6007" arg2="1" />	<!-- Grating_Start -->		
			<action name="SetVisibleBreakableObject" arg1="6008" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6009" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6010" arg2="1" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6011" arg2="1" />	<!-- Grating_Start -->				
				</onEnter>	
				<condition name="WaitTick" waitTick="1000">	
					<transition state="BlockIng"/>	
				</condition>				
    <onExit> 	
    </onExit>
    </state>	

    <state name="BlockIng" >
        <onEnter>		
			<action name="메쉬를설정한다" arg1="3901" arg2="1" arg3="0" arg4="0" arg5="0" /> <!-- InvisibleBarrier_TOKfalse -->				
			<action name="AGENT를설정한다" arg1="8000" arg2="1"/>	
			<action name="AGENT를설정한다" arg1="8001" arg2="1"/>	
			<action name="AGENT를설정한다" arg1="8002" arg2="1"/>						
				</onEnter>	
				<condition name="WaitTick" waitTick="2000">	
					<transition state="BlockEnd"/>	
				</condition>				
    <onExit> 	
    </onExit>
    </state>	
  
    <state name="BlockEnd" >
        <onEnter>		
			<action name="메쉬를설정한다" arg1="6200-6211" arg2="1" arg3="0" arg4="0" arg5="0" /> <!-- GratingDown -->		
			<action name="움직이는발판을설정한다" arg1="6000" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6001" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6002" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6003" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6004" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6005" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6006" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6007" arg2="0" />	<!-- Grating_Start -->		
			<action name="움직이는발판을설정한다" arg1="6008" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6009" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6010" arg2="0" />	<!-- Grating_Start -->
			<action name="움직이는발판을설정한다" arg1="6011" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6000" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6001" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6002" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6003" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6004" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6005" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6006" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6007" arg2="0" />	<!-- Grating_Start -->		
			<action name="SetVisibleBreakableObject" arg1="6008" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6009" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6010" arg2="0" />	<!-- Grating_Start -->
			<action name="SetVisibleBreakableObject" arg1="6011" arg2="0" />	<!-- Grating_Start -->				
				</onEnter>	
				<condition name="WaitTick" waitTick="3000">	
					<transition state="BlockDisable"/>	
				</condition>				
    <onExit> 	
    </onExit>
    </state>	
 
 
 
	<state name="BlockDisable">	
		<onEnter>			
			<action name="오브젝트반응설정한다" arg1="10002052" arg2="1" />	<!-- Lever_BlockOff -->						
		</onEnter>
				<condition name="오브젝트가반응했으면" arg1="10002052" arg2="0" >	
			<transition state="BlockOffStart"/>
		</condition>
		<onExit>
		</onExit>
	</state>  

    <state name="BlockOffStart" >
        <onEnter>		
			<action name="메쉬를설정한다" arg1="6200-6211" arg2="0" arg3="100" arg4="0" arg5="2" /> <!-- GratingDown -->	
			<action name="움직이는발판을설정한다" arg1="6100" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6101" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6102" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6103" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6104" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6105" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6106" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6107" arg2="1" />	<!-- Grating_Off -->		
			<action name="움직이는발판을설정한다" arg1="6108" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6109" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6110" arg2="1" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6111" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6100" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6101" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6102" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6103" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6104" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6105" arg2="1" />	<!-- Grating_Off -->	
			<action name="SetVisibleBreakableObject" arg1="6106" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6107" arg2="1" />	<!-- Grating_Off -->		
			<action name="SetVisibleBreakableObject" arg1="6108" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6109" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6110" arg2="1" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6111" arg2="1" />	<!-- Grating_Off -->			
				</onEnter>	
				<condition name="WaitTick" waitTick="1000">	
					<transition state="BlockOffIng"/>	
				</condition>				
    <onExit> 	
    </onExit>
    </state>	

    <state name="BlockOffIng" >
        <onEnter>		
			<action name="메쉬를설정한다" arg1="3901" arg2="0" arg3="0" arg4="0" arg5="0" /> <!-- InvisibleBarrier_TOKfalse -->				
			<action name="AGENT를설정한다" arg1="8000" arg2="0"/>	
			<action name="AGENT를설정한다" arg1="8001" arg2="0"/>	
			<action name="AGENT를설정한다" arg1="8002" arg2="0"/>						
				</onEnter>	
				<condition name="WaitTick" waitTick="2000">	
					<transition state="BlockOffEnd"/>	
				</condition>				
    <onExit> 	
    </onExit>
    </state>	
  
    <state name="BlockOffEnd" >
        <onEnter>		
			<action name="메쉬를설정한다" arg1="6300-6305" arg2="1" arg3="0" arg4="0" arg5="0" /> <!-- GratingUp -->	
			<action name="움직이는발판을설정한다" arg1="6100" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6101" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6102" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6103" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6104" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6105" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6106" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6107" arg2="0" />	<!-- Grating_Off -->		
			<action name="움직이는발판을설정한다" arg1="6108" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6109" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6110" arg2="0" />	<!-- Grating_Off -->
			<action name="움직이는발판을설정한다" arg1="6111" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6100" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6101" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6102" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6103" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6104" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6105" arg2="0" />	<!-- Grating_Off -->	
			<action name="SetVisibleBreakableObject" arg1="6106" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6107" arg2="0" />	<!-- Grating_Off -->		
			<action name="SetVisibleBreakableObject" arg1="6108" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6109" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6110" arg2="0" />	<!-- Grating_Off -->
			<action name="SetVisibleBreakableObject" arg1="6111" arg2="0" />	<!-- Grating_Off -->					
				</onEnter>	
				<condition name="WaitTick" waitTick="3000">	
					<transition state="BlockEnable"/>	
				</condition>				
    <onExit> 	
    </onExit>
    </state>	
	
</ms2>